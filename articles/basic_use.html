<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="azmetr">
<title>Basic usage of azmetr • azmetr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Basic usage of azmetr">
<meta property="og:description" content="azmetr">
<meta property="og:image" content="https://uace-azmet.github.io/azmetr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">azmetr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/basic_use.html">Basic usage of azmetr</a>
    <a class="dropdown-item" href="../articles/metadata.html">Using azmetr with the units package</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/uace-azmet/azmetr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Basic usage of azmetr</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/uace-azmet/azmetr/blob/HEAD/vignettes/basic_use.Rmd" class="external-link"><code>vignettes/basic_use.Rmd</code></a></small>
      <div class="d-none name"><code>basic_use.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/uace-azmet/azmetr" class="external-link">azmetr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'lubridate'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     date, intersect, setdiff, union</span></span></code></pre></div>
<div class="section level2">
<h2 id="retrieving-the-most-recent-day">Retrieving the most recent day<a class="anchor" aria-label="anchor" href="#retrieving-the-most-recent-day"></a>
</h2>
<p>To retrieve the the most recent day of data for all stations simply
by calling <code><a href="../reference/az_daily.html">az_daily()</a></code> or <code><a href="../reference/az_hourly.html">az_hourly()</a></code> without
any arguments. <code><a href="../reference/az_daily.html">az_daily()</a></code> retrieves daily summary data and
<code><a href="../reference/az_hourly.html">az_hourly()</a></code> retrieves hourly data.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/az_daily.html">az_daily</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Querying data from 2024-06-23</span></span>
<span><span class="co">#&gt; Returning data from 2024-06-23</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hourly</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/az_hourly.html">az_hourly</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Querying most recent hour of data</span></span>
<span><span class="co">#&gt; Returning data from 2024-06-24 13:00 through 2024-06-24 14:00</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">daily</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 75</span></span></span>
<span><span class="co">#&gt;   meta_bat_volt_max meta_bat_volt_mean meta_bat_volt_min meta_needs_review</span></span>
<span><span class="co">#&gt;               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>              13.9               13.2              12.8                 0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>              13.8               13.0              12.6                 0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>              14.4               13.0              12.6                 0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>              13.7               13.0              12.6                 0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>              13.9               13.1              12.7                 0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>              13.6               13.0              12.7                 0</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 71 more variables: meta_station_id &lt;chr&gt;, meta_station_name &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   meta_version &lt;dbl&gt;, chill_hours_0C &lt;dbl&gt;, chill_hours_20C &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   chill_hours_32F &lt;dbl&gt;, chill_hours_45F &lt;dbl&gt;, chill_hours_68F &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   chill_hours_7C &lt;dbl&gt;, date_doy &lt;dbl&gt;, date_year &lt;dbl&gt;, datetime &lt;date&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   dwpt_mean &lt;dbl&gt;, dwpt_meanF &lt;dbl&gt;, eto_azmet &lt;dbl&gt;, eto_azmet_in &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   eto_pen_mon &lt;dbl&gt;, eto_pen_mon_in &lt;dbl&gt;, heat_units_10C &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   heat_units_13C &lt;dbl&gt;, heat_units_3413C &lt;dbl&gt;, heat_units_45F &lt;dbl&gt;, …</span></span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">hourly</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 42</span></span></span>
<span><span class="co">#&gt;   meta_bat_volt meta_needs_review meta_station_id meta_station_name meta_version</span></span>
<span><span class="co">#&gt;           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>          13.3                 0 az01            Tucson                       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>          13.2                 0 az02            Yuma Valley                  1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>          13.4                 0 az04            Safford                      1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>          13.1                 0 az05            Coolidge                     1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>          13.2                 0 az06            Maricopa                     1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>          13.4                 0 az07            Aguila                       1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 37 more variables: date_datetime &lt;dttm&gt;, date_doy &lt;dbl&gt;, date_hour &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   date_year &lt;dbl&gt;, dwpt &lt;dbl&gt;, dwptF &lt;dbl&gt;, eto_azmet &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   eto_azmet_in &lt;dbl&gt;, heatstress_cottonC &lt;dbl&gt;, heatstress_cottonF &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   precip_total &lt;dbl&gt;, precip_total_in &lt;dbl&gt;, relative_humidity &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   sol_rad_total &lt;dbl&gt;, sol_rad_total_ly &lt;dbl&gt;, temp_airC &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   temp_airF &lt;dbl&gt;, temp_soil_10cmC &lt;dbl&gt;, temp_soil_10cmF &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   temp_soil_50cmC &lt;dbl&gt;, temp_soil_50cmF &lt;dbl&gt;, vp_actual &lt;dbl&gt;, …</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="specifying-date-ranges">Specifying date ranges<a class="anchor" aria-label="anchor" href="#specifying-date-ranges"></a>
</h2>
<p>By supplying <code>start_date</code> to <code><a href="../reference/az_daily.html">az_daily()</a></code> or
<code>start_date_time</code> to <code><a href="../reference/az_hourly.html">az_hourly()</a></code> you can
retrieve data going back further in time.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">last_date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">daily</span><span class="op">$</span><span class="va">datetime</span><span class="op">)</span></span>
<span><span class="va">last_date</span></span>
<span><span class="co">#&gt; [1] "2024-06-23"</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">last_week</span> <span class="op">&lt;-</span> <span class="va">last_date</span> <span class="op">-</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html" class="external-link">weeks</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">wk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/az_daily.html">az_daily</a></span><span class="op">(</span>start_date <span class="op">=</span> <span class="va">last_week</span><span class="op">)</span></span>
<span><span class="co">#&gt; Querying data from 2024-06-16 through 2024-06-23</span></span>
<span><span class="co">#&gt; Warning in az_daily(start_date = last_week): Some requested data were</span></span>
<span><span class="co">#&gt; unavailable</span></span>
<span><span class="co">#&gt; Returning data from 2024-06-16 through 2024-06-23</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">wk</span><span class="op">$</span><span class="va">datetime</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2024-06-16" "2024-06-23"</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">last_datetime</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">hourly</span><span class="op">$</span><span class="va">date_datetime</span><span class="op">)</span></span>
<span><span class="va">last_datetime</span></span>
<span><span class="co">#&gt; [1] "2024-06-24 14:00:00 MST"</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">last_48h</span> <span class="op">&lt;-</span> <span class="va">last_datetime</span> <span class="op">-</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html" class="external-link">hours</a></span><span class="op">(</span><span class="fl">48</span><span class="op">)</span></span>
<span><span class="va">hr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/az_hourly.html">az_hourly</a></span><span class="op">(</span>start_date_time <span class="op">=</span> <span class="va">last_48h</span><span class="op">)</span></span>
<span><span class="co">#&gt; Querying data from 2024-06-22 14:00 through 2024-06-24 14:00</span></span>
<span><span class="co">#&gt; Returning data from 2024-06-22 14:00 through 2024-06-24 14:00</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">hr</span><span class="op">$</span><span class="va">date_datetime</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2024-06-22 14:00:00 MST" "2024-06-24 14:00:00 MST"</span></span></code></pre></div>
<p>To specify an end date, use <code>end_date</code> or
<code>end_date_time</code>. You must also supply a start date if you
supply an end date.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daily_range</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/az_daily.html">az_daily</a></span><span class="op">(</span>start_date <span class="op">=</span> <span class="st">"2022-01-01"</span>, end_date <span class="op">=</span> <span class="st">"2022-01-05"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Querying data from 2022-01-01 through 2022-01-05</span></span>
<span><span class="co">#&gt; Returning data from 2022-01-01 through 2022-01-05</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">daily_range</span><span class="op">$</span><span class="va">datetime</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2022-01-01" "2022-01-05"</span></span></code></pre></div>
<p>Note that the dates and datetimes can be supplied as character values
in year, month, day order or they can be supplied as Date or POSIXct
vectors. If the supplied date is more precise than the data, it will be
rounded down. For <code><a href="../reference/az_daily.html">az_daily()</a></code> datetimes will be rounded down
to the nearest day and for <code><a href="../reference/az_hourly.html">az_hourly()</a></code> datetimes will be
rounded down to the nearest hour.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">char_daily</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/az_daily.html">az_daily</a></span><span class="op">(</span>start_date <span class="op">=</span> <span class="st">"2023-01-10 12:43:22"</span>, end_date <span class="op">=</span> <span class="st">"2023-01-11 15:00:01"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Querying data from 2023-01-10 through 2023-01-11</span></span>
<span><span class="co">#&gt; Returning data from 2023-01-10 through 2023-01-11</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">char_daily</span><span class="op">$</span><span class="va">datetime</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2023-01-10" "2023-01-11"</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">char_hourly</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/az_hourly.html">az_hourly</a></span><span class="op">(</span>start_date <span class="op">=</span> <span class="st">"2023-01-10 12:43:22"</span>, end_date <span class="op">=</span> <span class="st">"2023-01-11 15:00:01"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Querying data from 2023-01-10 12:43 through 2023-01-11 15:00</span></span>
<span><span class="co">#&gt; Warning in az_hourly(start_date = "2023-01-10 12:43:22", end_date = "2023-01-11</span></span>
<span><span class="co">#&gt; 15:00:01"): You requested data through 2023-01-11 15:00:00 but only data</span></span>
<span><span class="co">#&gt; through 2023-01-11 14:00:00 were available</span></span>
<span><span class="co">#&gt; Returning data from 2023-01-10 13:00 through 2023-01-11 14:00</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">char_hourly</span><span class="op">$</span><span class="va">date_datetime</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2023-01-10 13:00:00 MST" "2023-01-11 14:00:00 MST"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="filtering-by-station">Filtering by station<a class="anchor" aria-label="anchor" href="#filtering-by-station"></a>
</h2>
<p>Information on the stations available is contained in the
<code>station_info</code> dataset including station name, station ID,
and location.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">station_info</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 31 × 5</span></span></span>
<span><span class="co">#&gt;    meta_station_name meta_station_id latitude longitude elev_m</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Tucson            az01                32.3     -<span style="color: #BB0000;">111.</span>    717</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Yuma Valley       az02                32.7     -<span style="color: #BB0000;">115.</span>     36</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Safford           az04                32.8     -<span style="color: #BB0000;">110.</span>    903</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Coolidge          az05                33.0     -<span style="color: #BB0000;">112.</span>    423</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Maricopa          az06                33.1     -<span style="color: #BB0000;">112.</span>    362</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Aguila            az07                33.9     -<span style="color: #BB0000;">113.</span>    657</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Parker            az08                34.0     -<span style="color: #BB0000;">114.</span>     98</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Bonita            az09                32.5     -<span style="color: #BB0000;">110.</span>   <span style="text-decoration: underline;">1</span>349</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Phoenix Greenway  az12                33.6     -<span style="color: #BB0000;">112.</span>    403</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Yuma N.Gila       az14                32.8     -<span style="color: #BB0000;">115.</span>     43</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 21 more rows</span></span></span></code></pre></div>
<p>If you only need data for a subset of stations, you can supply
<code>station_id</code>. However, note that this will query the API once
per station due to limitations of how the API works. It may be faster to
just get data for all stations and subset it after since that only
queries the web API once and results in an identical dataset.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span></span>
<span>  <span class="va">sub_wk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/az_daily.html">az_daily</a></span><span class="op">(</span>station_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">8</span><span class="op">)</span>, start_date <span class="op">=</span> <span class="st">"2022-01-01"</span>, end_date <span class="op">=</span> <span class="st">"2022-01-15"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Querying data from 2022-01-01 through 2022-01-15</span></span>
<span><span class="co">#&gt; Returning data from 2022-01-01 through 2022-01-15</span></span>
<span><span class="co">#&gt;    user  system elapsed </span></span>
<span><span class="co">#&gt;   0.103   0.000   0.814</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span></span>
<span>  <span class="va">sub_wk2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/az_daily.html">az_daily</a></span><span class="op">(</span>start_date <span class="op">=</span> <span class="st">"2022-01-01"</span>, end_date <span class="op">=</span> <span class="st">"2022-01-15"</span><span class="op">)</span>,</span>
<span>    <span class="va">meta_station_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"az01"</span>, <span class="st">"az02"</span>, <span class="st">"az08"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Querying data from 2022-01-01 through 2022-01-15</span></span>
<span><span class="co">#&gt; Returning data from 2022-01-01 through 2022-01-15</span></span>
<span><span class="co">#&gt;    user  system elapsed </span></span>
<span><span class="co">#&gt;   0.387   0.000   0.946</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">sub_wk2</span> <span class="op">==</span> <span class="va">sub_wk</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] NA</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jeremy Weiss, Eric Scott.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
